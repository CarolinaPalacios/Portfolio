---
import ThemeIcon from './ThemeIcon.astro'
import MobileMenu from './MobileMenu'
import { getLangFromUrl, useTranslations } from '../i18n/utils'
const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)
---

<header class='flex items-center justify-center'>
  <div
    class='py-3 px-10 flex items-center mobile-xs:mt-[1.2rem] mobile-sm:mt-[1.2rem] w-full justify-between z-40 h-8 lg:fixed lg:top-0 lg:backdrop-blur sm:py-6 text-gray-400'
  >
    <MobileMenu client:only='react' />
    <div
      class='dark:text-blue-400 text-[#748c74] hidden sm:block w-[30px] h-[28px]'
    >
      <svg
        xmlns='http://www.w3.org/2000/svg'
        class='icon icon-tabler icon-tabler-bug'
        width='24'
        height='24'
        viewBox='0 0 24 24'
        stroke-width='2'
        stroke='currentColor'
        fill='none'
        stroke-linecap='round'
        stroke-linejoin='round'
      >
        <path stroke='none' d='M0 0h24v24H0z' fill='none'></path>
        <path d='M9 9v-1a3 3 0 0 1 6 0v1'></path>
        <path d='M8 9h8a6 6 0 0 1 1 3v3a5 5 0 0 1 -10 0v-3a6 6 0 0 1 1 -3'
        ></path>
        <path d='M3 13l4 0'></path>
        <path d='M17 13l4 0'></path>
        <path d='M12 20l0 -6'></path>
        <path d='M4 19l3.35 -2'></path>
        <path d='M20 19l-3.35 -2'></path>
        <path d='M4 7l3.75 2.4'></path>
        <path d='M20 7l-3.75 2.4'></path>
      </svg>
    </div>
    <div class='flex mobile-xs:hidden mobile-sm:hidden items-center'>
      <a href='/en'
        ><img
          src='https://freesvg.org/img/united_kingdom.png'
          alt=''
          class='w-[26px] h-[25px]'
        /></a
      >
      <span class='mx-2'>|</span>
      <a href='/es'
        ><img
          src='https://icons.veryicon.com/png/Flag/Rounded%20World%20Flags/Spain%20Flag.png'
          alt=''
          class='w-[29px] h-[28px]'
        /></a
      >
    </div>
    <nav class='hidden lg:flex space-x-4 desktop-lg:mr-16 tablet-md:mr-16'>
      <ul class='flex gap-4 ml-4 sm:ml-14 lg:ml-28'>
        {
          [
            ['Home', `/${lang}`],
            ['About', `/${lang}/#about`],
            ['Projects', `/${lang}/#projects`],
            ['Experience', `/${lang}/#experience`],
            ['Certificates', `/${lang}/#certificates`],
            ['ContactTitle', `/${lang}/#contact`],
          ].map(([title, url]) => (
            <li class='dark:text-gray-400 dark:hover:text-white hover:text-black text-gray-700'>
              <a href={url}>
                {t(
                  title as
                    | 'Home'
                    | 'About'
                    | 'Projects'
                    | 'Experience'
                    | 'Certificates'
                    | 'ContactTitle'
                )}
              </a>
            </li>
          ))
        }
      </ul>
    </nav>
    <nav class='hidden lg:flex space-x-4'>
      <ul class='flex gap-4'>
        {
          [
            ['Linkedin', 'https://www.linkedin.com/in/CarolinaPalacios1'],
            ['Github', 'https://github.com/CarolinaPalacios'],
          ].map(([title, url]) => (
            <li class='dark:text-gray-400 dark:hover:text-white hover:text-black text-gray-700'>
              <a href={url} target='_blank'>
                {title}
              </a>
            </li>
          ))
        }
      </ul>
    </nav>
    <ThemeIcon />
  </div>
</header>
